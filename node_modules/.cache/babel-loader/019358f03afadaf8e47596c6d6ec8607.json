{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/javierperez/Desktop/bootcamp/19-employee-traker-react/employee-traker-react/employee-traker/src/EmployeeSearch.js\";\nimport EmployeeList from './EmployeeList';\nimport { Component } from 'react';\nimport API from './util/API';\nimport Search from './Search';\n\nclass EmployeeContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: '',\n      results: [],\n      filtered: [],\n      loading: true,\n      notFound: false\n    };\n\n    this.searchEmployee = employee => {\n      API.searchEmployees(employee).then(res => {\n        this.setState({\n          results: [...res.data.results],\n          filtered: [...res.data.results],\n          loading: false\n        });\n        console.log(this.state);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleInput = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n      console.log([name], value);\n    };\n\n    this.searchEmployeeByName = name => {\n      if (name === '') {\n        return this.setState({\n          filtered: [...this.state.results]\n        });\n      }\n\n      ;\n      const newSearch = this.state.results.filter(employee => {\n        const employeeName = employee.name.first.toLowerCase() + employee.name.last.toLowerCase();\n        return employeeName.includes(name.toLowerCase());\n      });\n\n      if (newSearch.length) {\n        this.setState({\n          filtered: newSearch\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.search === '') {\n        return this.setState({\n          filtered: [...this.state.results]\n        });\n      }\n\n      this.searchEmployeeByName(this.state.search);\n    };\n  }\n\n  componentDidMount() {\n    this.searchEmployee('50');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"employee-container\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        search: this.state.search,\n        handleSubmit: this.handleSubmit,\n        handleInput: this.handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \" Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 44\n      }, this), this.state.notFound && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert\",\n        children: \" Not Employee Found \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 47\n      }, this), !this.filtered.length && /*#__PURE__*/_jsxDEV(EmployeeList, {\n        results: this.state.filtered\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 48\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 22\n    }, this);\n  }\n\n}\n\nexport default EmployeeContainer;","map":{"version":3,"sources":["/Users/javierperez/Desktop/bootcamp/19-employee-traker-react/employee-traker-react/employee-traker/src/EmployeeSearch.js"],"names":["EmployeeList","Component","API","Search","EmployeeContainer","state","search","results","filtered","loading","notFound","searchEmployee","employee","searchEmployees","then","res","setState","data","console","log","catch","err","handleInput","event","name","target","value","searchEmployeeByName","newSearch","filter","employeeName","first","toLowerCase","last","includes","length","handleSubmit","e","preventDefault","componentDidMount","render"],"mappings":"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","sourcesContent":["import EmployeeList from './EmployeeList';\nimport {\n    Component\n} from 'react';\nimport API from './util/API'\nimport Search from './Search';\nclass EmployeeContainer extends Component {\n    state = {\n        search: '',\n        results: [],\n        filtered: [],\n        loading: true,\n        notFound: false\n    }\n\n    componentDidMount() {\n        this.searchEmployee('50');\n    };\n\n    //Calls the search method from the API folder\n    searchEmployee = employee => {\n        API.searchEmployees(employee)\n            .then(res => {\n                this.setState({\n                    results: [...res.data.results],\n                    filtered: [...res.data.results],\n                    loading: false\n                });\n                console.log(this.state)\n            })\n            .catch(err => console.log(err));\n    }\n\n\n    handleInput = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({\n            [name]: value\n        })\n        console.log([name], value)\n    }\n    searchEmployeeByName = name => {\n        if (name === '') {\n          return this.setState({\n            filtered: [...this.state.results],\n          });\n        };\n        const newSearch = this.state.results.filter(employee => {\n          const employeeName = employee.name.first.toLowerCase() + employee.name.last.toLowerCase()  ;\n          return employeeName.includes(name.toLowerCase());\n        })\n        if (newSearch.length) {\n          this.setState({ filtered: newSearch });\n        }\n      }\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n          if (this.state.search === ''){\n              return this.setState({\n                  filtered: [...this.state.results],\n              });\n          }\n        this.searchEmployeeByName(this.state.search);\n    }\n    render() {\n            return ( <div className = \"employee-container\">\n                    <Search search = { this.state.search } handleSubmit = {this.handleSubmit} handleInput = {this.handleInput }/> \n                    {this.state.loading && < div className = \"loading\" > Loading... </div> }\n                     { this.state.notFound && <div className = \"alert\"> Not Employee Found </div> } \n                     {!this.filtered.length && <EmployeeList results = {this.state.filtered}/>} </div>)}\n}\nexport default EmployeeContainer;"]},"metadata":{},"sourceType":"module"}