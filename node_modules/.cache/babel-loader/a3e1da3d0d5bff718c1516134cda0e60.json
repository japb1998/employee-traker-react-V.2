{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/javierperez/Desktop/bootcamp/19-employee-traker-react/employee-traker-react/employee-traker/src/EmployeeSearch.js\";\nimport EmployeeList from './EmployeeList';\nimport { Component } from 'react';\nimport API from './util/API';\nimport Search from './Search';\n\nclass EmployeeContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: '',\n      results: [],\n      filtered: [],\n      loading: true,\n      notFound: false\n    };\n\n    this.searchEmployee = employee => {\n      API.searchEmployees(employee).then(res => {\n        this.setState({\n          results: [...res.data.results],\n          filtered: [...res.data.results],\n          loading: false\n        });\n        console.log(this.state);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleInput = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n      this.handleSubmit();\n      console.log([name], value);\n    };\n\n    this.searchEmployeeByName = name => {\n      if (name === '') {\n        return this.setState({\n          filtered: [...this.state.results]\n        });\n      }\n\n      ;\n      const newSearch = this.state.results.filter(employee => {\n        const employeeName = employee.name.first.toLowerCase() + employee.name.last.toLowerCase();\n        return employeeName.includes(name.toLowerCase());\n      });\n\n      if (newSearch.length) {\n        this.setState({\n          filtered: newSearch\n        });\n      } else {\n        this.setState({\n          notFound: true\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.search === '') {\n        return this.setState({\n          filtered: [...this.state.results]\n        });\n      }\n\n      this.searchEmployeeByName(this.state.search);\n    };\n  }\n\n  componentDidMount() {\n    this.searchEmployee('50');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"employee-container\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        search: this.state.search,\n        handleSubmit: this.handleSubmit,\n        handleInput: this.handleInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), \"\\u200B\", this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \" Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 36\n      }, this), \"\\u200B\", this.state.notFound && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert\",\n        children: \" Not Employee Found \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }, this), \"\\u200B\", this.state.filtered.length && /*#__PURE__*/_jsxDEV(EmployeeList, {\n        results: this.state.filtered\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 28\n    }, this);\n  }\n\n}\n\nexport default EmployeeContainer;","map":{"version":3,"sources":["/Users/javierperez/Desktop/bootcamp/19-employee-traker-react/employee-traker-react/employee-traker/src/EmployeeSearch.js"],"names":["EmployeeList","Component","API","Search","EmployeeContainer","state","search","results","filtered","loading","notFound","searchEmployee","employee","searchEmployees","then","res","setState","data","console","log","catch","err","handleInput","event","name","target","value","handleSubmit","searchEmployeeByName","newSearch","filter","employeeName","first","toLowerCase","last","includes","length","e","preventDefault","componentDidMount","render"],"mappings":"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","sourcesContent":["import EmployeeList from './EmployeeList';\nimport {\n    Component\n} from 'react';\nimport API from './util/API'\nimport Search from './Search';\nclass EmployeeContainer extends Component {\n    state = {\n        search: '',\n        results: [],\n        filtered: [],\n        loading: true,\n        notFound: false\n    }\n\n    componentDidMount() {\n        this.searchEmployee('50');\n    };\n\n    //Calls the search method from the API folder\n    searchEmployee = employee => {\n        API.searchEmployees(employee)\n            .then(res => {\n                this.setState({\n                    results: [...res.data.results],\n                    filtered: [...res.data.results],\n                    loading: false\n                });\n                console.log(this.state)\n            })\n            .catch(err => console.log(err));\n    }\n\n\n    handleInput = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n\n        this.setState({\n            [name]: value\n        });\n        this.handleSubmit()\n        \n        console.log([name], value)\n    }\n    searchEmployeeByName = name => {\n        if (name === '') {\n          return this.setState({\n            filtered: [...this.state.results],\n          });\n        };\n        const newSearch = this.state.results.filter(employee => {\n          const employeeName = employee.name.first.toLowerCase() + employee.name.last.toLowerCase()  ;\n          return employeeName.includes(name.toLowerCase());\n        });\n        if (newSearch.length) {\n          this.setState({ filtered: newSearch });\n        } else {\nthis.setState({notFound:true})\n        }\n      }\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n          if (this.state.search === ''){\n              return this.setState({\n                  filtered: [...this.state.results],\n              });\n          }\n        this.searchEmployeeByName(this.state.search);\n    }\n    render() {\n            return (       <div className=\"employee-container\">\n            <Search \n              search={this.state.search} \n              handleSubmit={this.handleSubmit} \n              handleInput={this.handleInput}\n            />\n    ​\n            {this.state.loading && <div className=\"loading\"> Loading... </div>}\n    ​\n            {this.state.notFound && <div className=\"alert\"> Not Employee Found </div>}\n    ​\n            {this.state.filtered.length && <EmployeeList results={this.state.filtered} />}\n          </div>\n        )}\n}\nexport default EmployeeContainer;"]},"metadata":{},"sourceType":"module"}